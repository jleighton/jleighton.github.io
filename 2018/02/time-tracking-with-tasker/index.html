<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Time Tracking with Tasker (Driving & Sleep Time) - James Leighton</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://semaj.omg.lol/2018/02/time-tracking-with-tasker/">

        <meta name="author" content="jamesleighton" />
        <meta name="keywords" content="android,android auto,automation,productivity,tasker,timetracking" />
        <meta name="description" content="I listen to the podcast Cortex when I&#39;m driving, and they got me interesting in looking up time tracking and how maybe this would benefit me. I already use Rescuetime with Exist as a measure of sleep, productivity, social media posts, and other things that correlate to these like the …" />

        <meta property="og:site_name" content="James Leighton" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Time Tracking with Tasker (Driving &amp; Sleep Time)"/>
        <meta property="og:url" content="https://semaj.omg.lol/2018/02/time-tracking-with-tasker/"/>
        <meta property="og:description" content="I listen to the podcast Cortex when I&#39;m driving, and they got me interesting in looking up time tracking and how maybe this would benefit me. I already use Rescuetime with Exist as a measure of sleep, productivity, social media posts, and other things that correlate to these like the …"/>
        <meta property="article:published_time" content="2018-02-12" />
            <meta property="article:section" content="How To" />
            <meta property="article:tag" content="android" />
            <meta property="article:tag" content="android auto" />
            <meta property="article:tag" content="automation" />
            <meta property="article:tag" content="productivity" />
            <meta property="article:tag" content="tasker" />
            <meta property="article:tag" content="timetracking" />
            <meta property="article:author" content="jamesleighton" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://semaj.omg.lol/theme/css/bootstrap.united.min.css" type="text/css"/>
    <link href="https://semaj.omg.lol/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://semaj.omg.lol/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://semaj.omg.lol/theme/css/style.css" type="text/css"/>

        <link href="https://semaj.omg.lol/atom.xml" type="application/atom+xml" rel="alternate"
              title="James Leighton ATOM Feed"/>
    <link href="https://semaj.omg.lol/theme/css/comments.css" rel="stylesheet">
        <link href="https://semaj.omg.lol/feed/index.xml" type="application/rss+xml" rel="alternate"
              title="James Leighton RSS Feed"/>


</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://semaj.omg.lol/" class="navbar-brand">
James Leighton            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="https://semaj.omg.lol/category/now.html">/Now</a></li>
                    <li><a href="https://semaj.omg.lol/category/adventures.html">Adventures</a></li>
                    <li><a href="https://social.lol/@semaj">Mastodon</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://semaj.omg.lol/2018/02/time-tracking-with-tasker/"
                       rel="bookmark"
                       title="Permalink to Time Tracking with Tasker (Driving & Sleep Time)">
                        Time Tracking with Tasker (Driving & Sleep Time)
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
       </i><time datetime="2018-02-12T14:20:00+00:00"> Mon 12 February 2018</time>
    </span>



        <span class="label label-default">Category</span>
        <a href="https://semaj.omg.lol/category/how-to.html">How To</a>


<span class="label label-default">Tags</span>
	<a href="https://semaj.omg.lol/tag/android.html">android</a>
        /
	<a href="https://semaj.omg.lol/tag/android-auto.html">android auto</a>
        /
	<a href="https://semaj.omg.lol/tag/automation.html">automation</a>
        /
	<a href="https://semaj.omg.lol/tag/productivity.html">productivity</a>
        /
	<a href="https://semaj.omg.lol/tag/tasker.html">tasker</a>
        /
	<a href="https://semaj.omg.lol/tag/timetracking.html">timetracking</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>I listen to the podcast Cortex when I'm driving, and they got me interesting in looking up time tracking and how maybe this would benefit me. I already use <a href="http://jamesleighton.com/2017/08/05/life-tracking-with-exist-io/">Rescuetime with Exist</a> as a measure of sleep, productivity, social media posts, and other things that correlate to these like the weather, the length of the day, and more. It's pretty neat and I look at it several times a week.</p>
<p>One metric it misses is driving time. As someone who drove 17,000 miles in the last 12 months for work this is pretty key to me. Apparently <a href="https://blog.rescuetime.com/new-integration-with-automatic-track-your-driving-time-like-your-computer-time/">rescuetime can do it with an expensive add on,</a> but that only works in the US so that's no good.</p>
<p>I had a look through the rest of the Exist integrations and nothing really supports what I want. So, I've found another way of recording this information directly. Sadly it won't be with the rest of my Exist data but aTimeLogger generates its own fancy graphs and allows me to export the data to standard formats.</p>
<p><img src="/images/2018/02/screenshot_smartselect_2018-02-12-13-45-24.jpg?w=1288" class="aligncenter wp-image-1243" width="397" height="631" alt="Screenshot of aTimeLogger" /></p>
<h2>Android Auto --&gt; <a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm&amp;hl=en_GB">Tasker</a> --&gt; <a href="http://www.atimelogger.com/">aTimeLogger</a></h2>
<p>Basically the flow is as follows. You could also automate this based on connecting to a certain bluetooth radio, or even just an NFC tag you have stuck to your dashboard.</p>
<ol>
<li>Plug my phone into my car with Android Auto.</li>
<li>Tasker notices the change in UI mode</li>
<li>Tasker sends an intent to aTimeLogger to start timing.</li>
<li>Disconnect from my car</li>
<li>Tasker notices the change</li>
<li>Tasker sends another intent to aTimeLogger to stop timing.</li>
</ol>
<p>To get this working, add your groupings to aTimeLogger. I added a top level grouping of transportation with train and driving inside this grouping. I guess I'll add flying to this at some point too.</p>
<p>Once this is done, go into Tasker and create two new tasks. One for when you plug your phone in, and one for when you disconnect.  The task below is for when you connect your phone, and is explained line by line:</p>
<ul>
<li><strong>A1:</strong> Wait for 3 seconds for the connection to stabilise and the radio in the car to sort itself out.</li>
<li><strong>A2:</strong> Using the aTimeLogger plugin in tasker, stop the Driving task if running and start it again.</li>
<li><strong>A3:</strong> Wait another 4 seconds, same reasoning as above.</li>
<li><strong>A4:</strong> Announce over the speakers that tracking is working. This seems to be able to talk over radio just like Google Maps can so is good if you're not actively listening to Spotify or something.</li>
</ul>
<!-- -->

<div class="highlight"><pre><span></span><code>Start Tracking Driving (2)
    A1: Wait [ MS:0 Seconds:3 Minutes:0 Hours:0 Days:0 ] 
    A2: aTimeLogger [ Configuration:Stop running and start Driving Timeout (Seconds):0 ] 
    A3: Wait [ MS:0 Seconds:4 Minutes:0 Hours:0 Days:0 ] 
    A4: Say [ Text:I&#39;m tracking your driving now Engine:Voice:default:default Stream:3 Pitch:5 Speed:5 Respect Audio Focus:On Network:Off Continue Task Immediately:Off ]
</code></pre></div>

<p>The stop driving task is pretty much the same, but A2 is reversed so it's Stop driving. Pretty simple. Make sure you actually save your changes as I managed to close them without saving.</p>
<p>Now you need to create some profiles that trigger based on Android Auto being active or not. The best way I found to do this was checking the variable %UIMODE and seeing if it was set to 'car' or not. This is set by Android Auto so its a good indicator as to whether I am in the car or not! Maybe there's a better way but this works for me.  Let me know in the comments?</p>
<p><img src="/images/2018/02/screenshot_20180212-140517.jpg" class="wp-image-1244 aligncenter" width="332" height="283" alt="Screenshot_20180212-140517" /></p>
<div class="highlight"><pre><span></span><code>Profile: Car Active (7)
    State: Variable Value  [ %UIMODE ~ car ]

Profile: Car Not Active (8)
    State: Variable Value  [ %UIMODE neq car ]
</code></pre></div>

<p>Both of these profiles are then linked to the above tasks which we previously set up. Now next time you connect your phone to Android Auto it should start time tracking in aTimeLogger and announce over your speakers that it's doing so. As soon as you disconnect (I have to turn the ignition off, and open the drivers door before the phone fully disconnects) it will stop and save that time log. You shouldn't have to do anything further! Enjoy the data.</p>
<p>You might have noticed in some of the screenshots that I am also doing something similar with sleep tracking. To do this, I am using <a href="https://sleep.urbandroid.org/documentation/tutorials/tasker/">SleepAsAndroid</a> alarm clock with its Android Wear add-on to actually track my sleep.</p>
<p>Tasker is listening for the intents from SleepAsAndroid and starting the timer in aTimeLogger then stopping it for me in the morning when I stop my alarm.</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="https://semaj.omg.lol/2013/08/google-latitude-replacements/">Google Latitude Replacements</a></li>
        <li><a href="https://semaj.omg.lol/2012/09/more-thoughts-on-the-google-nexus-7/">More thoughts on the Google Nexus 7</a></li>
        <li><a href="https://semaj.omg.lol/2012/09/lack-of-wifi-wont-stop-me/">Lack of wifi won’t stop me…</a></li>
        <li><a href="https://semaj.omg.lol/2012/07/nexus-7-otg-adapters/">Nexus 7 OTG Adapters</a></li>
        <li><a href="https://semaj.omg.lol/2012/07/first-week-with-the-google-nexus-7/">First week with the Google Nexus 7</a></li>
    </ul>
</section>

            <!-- No Comments -->



            





        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="https://semaj.omg.lol/now/2024/w13/index.html">Now - Week 13 of 2024</a></li>
    <li class="list-group-item"><a href="https://semaj.omg.lol/2024/03/kinver-edge-and-the-rock-houses/">Kinver Edge and the Rock Houses</a></li>
    <li class="list-group-item"><a href="https://semaj.omg.lol/2024/03/thoughts-on-activitypub-and-the-fediverse/">Thoughts on ActivityPub and the Fediverse</a></li>
    <li class="list-group-item"><a href="https://semaj.omg.lol/2024/02/visiting-the-highest-waterfall-in-south-wales/">Visiting the Highest Waterfall in South Wales</a></li>
    <li class="list-group-item"><a href="https://semaj.omg.lol/2024/02/moving-the-blog-again/">Moving the blog again</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="https://social.lol/@semaj" target="_blank">Mastodon</a>
    </li>
    <li class="list-group-item">
      <a href="https://ramblingreaders.org/user/Semaj" target="_blank">BookWyrm</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.exophase.com/user/geekyjames/" target="_blank">Exophase</a>
    </li>
    <li class="list-group-item">
      <a href="https://boardgamegeek.com/user/james__" target="_blank">BoardGameGeek </a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2024 James Leighton
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://semaj.omg.lol/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://semaj.omg.lol/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://semaj.omg.lol/theme/js/respond.min.js"></script>





<script data-goatcounter="https://semaj.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

</body>
</html>